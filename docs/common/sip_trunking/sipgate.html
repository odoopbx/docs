
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIPGate integration &#8212; OdooPBX 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nameko.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to set up Twilio Elastic SIP Trunking with Odoo PBX" href="twilio.html" />
    <link rel="prev" title="SIP Trunking" href="../sip_trunking.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Lora:400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="twilio.html" title="How to set up Twilio Elastic SIP Trunking with Odoo PBX"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../sip_trunking.html" title="SIP Trunking"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OdooPBX 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../common.html" >Common</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../sip_trunking.html" accesskey="U">SIP Trunking</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SIPGate integration</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sipgate-integration">
<h1>SIPGate integration<a class="headerlink" href="#sipgate-integration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="trunk-configuration">
<h2>Trunk configuration<a class="headerlink" href="#trunk-configuration" title="Permalink to this headline">¶</a></h2>
<p>After you have created a Trunk using Sipgate’s interface and attached the
required amount of phone numbers to it you will see the following block in the Trunk’s settings:</p>
<img alt="../../_images/sipgate1.png" src="../../_images/sipgate1.png" />
<p>Based on these details we can start setting up the trunk using OdooPBX.</p>
<p><code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">PBX</span> <span class="pre">-&gt;</span> <span class="pre">Applications</span> <span class="pre">-&gt;</span> <span class="pre">Trunks</span></code> and create a new trunk.</p>
<p>Make sure to fill in the following fields:</p>
<ul class="simple">
<li><p>Host: sipconnect.sipgate.co.uk</p></li>
<li><p>SIP Secret: A_password_123!&#64;#</p></li>
<li><p>Insecure: port,invite</p></li>
<li><p>From Domain: sipconnect.sipgate.co.uk</p></li>
<li><p>From user: 1234567890</p></li>
<li><p>Default user: 1234567890</p></li>
<li><p>Callbackextension: 1234567890</p></li>
<li><p>Outbound Proxy: sipconnect.sipgate.co.uk</p></li>
<li><p>DMTF Mode: RFC2833</p></li>
<li><p>Allow Codecs: ulaw,alaw</p></li>
<li><p>Disallow Codecs: all</p></li>
<li><p>Can Reinvite: No</p></li>
</ul>
<img alt="../../_images/sipgate2.png" src="../../_images/sipgate2.png" />
</div>
<div class="section" id="routing-configuration">
<h2>Routing Configuration<a class="headerlink" href="#routing-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="outgoing-route">
<h3>Outgoing Route<a class="headerlink" href="#outgoing-route" title="Permalink to this headline">¶</a></h3>
<p>Go to <code class="docutils literal notranslate"><span class="pre">PBX</span> <span class="pre">-&gt;</span> <span class="pre">Applications</span> <span class="pre">-&gt;</span> <span class="pre">Routes</span></code> and create a new route. Add the following fields:</p>
<ul class="simple">
<li><p>Destination Number: _XXXXXXX. This means that any phone number with more than 7 digits will use the trunk. Change according to your requirements.</p></li>
<li><p>Type: SIP Trunk</p></li>
<li><p>SIP Trunk: Select the name of the trunk created in the previous steps</p></li>
<li><p>SIP Headers: <code class="docutils literal notranslate"><span class="pre">P-Preferred-Identity:</span> <span class="pre">&lt;sip:${external_number}&#64;sipconnect.sipgate.co.uk&gt;</span></code></p></li>
</ul>
<p>The last field, SIP Headers, is used for setting up the outgoing number that will be used.</p>
<p>If you are using only one phone number you can add it directly in the SIP Header.
Otherwise you need to set for every user his desired outgoing phone number.
For example if user Demo needs to use the phone number +123456789 go to his peer in
<code class="docutils literal notranslate"><span class="pre">Applications</span> <span class="pre">-&gt;</span> <span class="pre">Peers</span></code> and click on the Advanced Settings tab and add the external
number variable as shown below:</p>
<img alt="../../_images/sipgate3.png" src="../../_images/sipgate3.png" />
</div>
<div class="section" id="incoming-route">
<h3>Incoming Route<a class="headerlink" href="#incoming-route" title="Permalink to this headline">¶</a></h3>
<p>Go to <code class="docutils literal notranslate"><span class="pre">PBX</span> <span class="pre">-&gt;</span> <span class="pre">Applications</span> <span class="pre">-&gt;</span> <span class="pre">Routes</span></code> and click on Create. Next fill in the fields:</p>
<ul class="simple">
<li><p>Destination number: The phone number, without the + sign</p></li>
<li><p>Type: Can be Extension or Dialplan</p></li>
<li><p>Select the dialplan or extension you want to redirect the call to.</p></li>
</ul>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SIPGate integration</a><ul>
<li><a class="reference internal" href="#trunk-configuration">Trunk configuration</a></li>
<li><a class="reference internal" href="#routing-configuration">Routing Configuration</a><ul>
<li><a class="reference internal" href="#outgoing-route">Outgoing Route</a></li>
<li><a class="reference internal" href="#incoming-route">Incoming Route</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation index</a><ul>
  <li><a href="../../common.html">Common</a><ul>
  <li><a href="../sip_trunking.html">SIP Trunking</a><ul>
      <li>Previous: <a href="../sip_trunking.html" title="previous chapter">SIP Trunking</a></li>
      <li>Next: <a href="twilio.html" title="next chapter">How to set up Twilio Elastic SIP Trunking with Odoo PBX</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/common/sip_trunking/sipgate.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
  </body>
</html>